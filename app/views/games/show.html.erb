<div class="text-center">
  <br/>
  <h2>Game: <%= @game.name %></h2>
</div>

<br/>

<table cellspacing="0" cellpadding="0" class="chessboard">
  <% 7.downto(0) do |row| %>
    <tr>
      <% 0.upto(7) do |col| %>
        <td class="text-center">
          <%=
            if (props = piece_at_location?(@pieces, row, col))
              color = props[0]
              if props[3] == :selected
                color = "red"
              else
                type = props[1].downcase
                link_to image_tag("#{color}-#{type}.svg", border: 0), {action: 'update', controller: 'pieces', id: props[2]}, method: :put
              end
            end
          %>
        </td>
      <% end %>
    </tr>
  <% end %>
</table>
